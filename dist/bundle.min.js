!function(s){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=s();else if("function"==typeof define&&define.amd)define([],s);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.JSONSchemaView=s()}}(function(){return function s(n,e,i){function a(h,l){if(!e[h]){if(!n[h]){var c="function"==typeof require&&require;if(!l&&c)return c(h,!0);if(t)return t(h,!0);var r=new Error("Cannot find module '"+h+"'");throw r.code="MODULE_NOT_FOUND",r}var p=e[h]={exports:{}};n[h][0].call(p.exports,function(s){var e=n[h][1][s];return a(e?e:s)},p,p.exports,s,n,e,i)}return e[h].exports}for(var t="function"==typeof require&&require,h=0;h<i.length;h++)a(i[h]);return a}({1:[function(s,n,e){"use strict";function i(s){return s.substring(0,3)+" of"}function a(s){return s?h:t}function t(){return""}function h(s){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return s.slice(1).reduce(function(s,n,i){return s+e[i]+n},s[0])}Object.defineProperty(e,"__esModule",{value:!0}),e.convertXOf=i,e._if=a},{}],2:[function(s,n,e){"use strict";function i(s,n){if(!(s instanceof n))throw new TypeError("Cannot call a class as a function")}function a(s,n){return Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(n)}}))}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function s(s,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}return function(n,e,i){return e&&s(n.prototype,e),i&&s(n,i),n}}(),h=a(['\n        <div class="any">\n          ','\n\n          <span class="type type-any">&lt;any&gt;</span>\n\n          ',"\n        </div>\n      "],['\n        <div class="any">\n          ','\n\n          <span class="type type-any">&lt;any&gt;</span>\n\n          ',"\n        </div>\n      "]),l=a(['\n            <a class="title"><span class="toggle-handle"></span>'," </a>\n          "],['\n            <a class="title"><span class="toggle-handle"></span>'," </a>\n          "]),c=a(['\n            <div class="inner description">',"</div>\n          "],['\n            <div class="inner description">',"</div>\n          "]),r=a(['\n        <div class="primitive">\n          ','\n\n            <span class="type">',"</span>\n\n          ","\n\n          ","\n\n          "," \n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n          ","\n          ","\n        </div>\n      "],['\n        <div class="primitive">\n          ','\n\n            <span class="type">',"</span>\n\n          ","\n\n          ","\n\n          "," \n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n\n          ","\n          ","\n          ","\n        </div>\n      "]),p=a(['\n            <span class="required">*</span>\n          '],['\n            <span class="required">*</span>\n          ']),m=a(['\n            <span class="format">(',")</span>\n          "],['\n            <span class="format">(',")</span>\n          "]),o=a(['\n            <span class="default">default: ',"</span>\n          "],['\n            <span class="default">default: ',"</span>\n          "]),d=a(['\n            <span class="range minimum">minimum:',"</span>\n          "],['\n            <span class="range minimum">minimum:',"</span>\n          "]),f=a(['\n            <span class="range exclusiveMinimum">(ex)minimum:',"</span>\n          "],['\n            <span class="range exclusiveMinimum">(ex)minimum:',"</span>\n          "]),u=a(['\n            <span class="range maximum">maximum:',"</span>\n          "],['\n            <span class="range maximum">maximum:',"</span>\n          "]),v=a(['\n            <span class="range exclusiveMaximum">(ex)maximum:',"</span>\n          "],['\n            <span class="range exclusiveMaximum">(ex)maximum:',"</span>\n          "]),y=a(['\n            <span class="range minLength">minLength:',"</span>\n          "],['\n            <span class="range minLength">minLength:',"</span>\n          "]),g=a(['\n            <span class="range maxLength">maxLength:',"</span>\n          "],['\n            <span class="range maxLength">maxLength:',"</span>\n          "]),O=a(["\n            ","\n          "],["\n            ","\n          "]),C=a(["",""],["",""]),x=a(['\n        <div class="array">\n          <a class="title"><span class="toggle-handle"></span>','<span class="opening bracket">[</span>',"</a>\n          ",'\n          <div class="inner">\n            ',"\n          </div>\n\n          ","\n\n          ","\n          ","\n          ","\n\n          ","\n        </div>\n      "],['\n        <div class="array">\n          <a class="title"><span class="toggle-handle"></span>','<span class="opening bracket">[</span>',"</a>\n          ",'\n          <div class="inner">\n            ',"\n          </div>\n\n          ","\n\n          ","\n          ","\n          ","\n\n          ","\n        </div>\n      "]),_=a(['<span class="closing bracket">]</span>'],['<span class="closing bracket">]</span>']),b=a(['\n          <span>\n            <span title="items range">(',"..",")</span>\n            ","\n          </span>\n          "],['\n          <span>\n            <span title="items range">(',"..",")</span>\n            ","\n          </span>\n          "]),L=a(['<span title="unique" class="uniqueItems">♦</span>'],['<span title="unique" class="uniqueItems">♦</span>']),j=a(['\n              <div class="description">',"</div>\n            "],['\n              <div class="description">',"</div>\n            "]),q=a(['\n          <span class="closing bracket">]</span>\n          '],['\n          <span class="closing bracket">]</span>\n          ']),w=a(['\n        <div class="object">\n          <a class="title"><span\n            class="toggle-handle"></span>',' <span\n            class="opening brace">{</span>','</a>\n\n          <div class="inner">\n            ',"\n            <!-- children go here -->\n          </div>\n\n          ","\n\n          ","\n          ","\n          ","\n\n          ","\n        </div>\n      "],['\n        <div class="object">\n          <a class="title"><span\n            class="toggle-handle"></span>',' <span\n            class="opening brace">{</span>','</a>\n\n          <div class="inner">\n            ',"\n            <!-- children go here -->\n          </div>\n\n          ","\n\n          ","\n          ","\n          ","\n\n          ","\n        </div>\n      "]),A=a(['\n              <span class="closing brace" ng-if="isCollapsed">}</span>\n          '],['\n              <span class="closing brace" ng-if="isCollapsed">}</span>\n          ']),k=a(['\n          <span class="closing brace">}</span>\n          '],['\n          <span class="closing brace">}</span>\n          ']),T=a(['\n        <div class="collectionOfTypes">\n          <a class="title"><span class="toggle-handle"></span>','</a>\n          <span class="type">','</span>\n          <div class="inner">\n            ',"\n             <!-- children go here -->\n          </div>\n        </div>\n      "],['\n        <div class="collectionOfTypes">\n          <a class="title"><span class="toggle-handle"></span>','</a>\n          <span class="type">','</span>\n          <div class="inner">\n            ',"\n             <!-- children go here -->\n          </div>\n        </div>\n      "]),M=a(['\n        <div class="inner enums">\n          <b>Enum:</b>\n        </div>\n      '],['\n        <div class="inner enums">\n          <b>Enum:</b>\n        </div>\n      ']),E=s("./helpers.js"),S=function(){function s(n,e){var a=this,t=arguments.length<=2||void 0===arguments[2]?{theme:null}:arguments[2];return i(this,s),this.schema=n,this.open=e,this.options=t,this.isCollapsed=e<=0,this.schema?(this.isAny="object"==typeof n&&!Array.isArray(n)&&!Object.keys(n).filter(function(s){return["title","description"].indexOf(s)===-1}).length,this.isArray=!this.isAny&&this.schema&&"array"===this.schema.type,this.isCollectionOfTypes=this.schema&&Array.isArray(this.schema.type)&&this.schema.type.reduce(function(s){return"object"==typeof s}),this.isObject=this.schema&&("object"===this.schema.type||this.schema.properties||this.schema.anyOf||this.schema.oneof||this.schema.allOf),this.isPrimitive=!(this.isAny||this.isArray||this.isObject||this.isCollectionOfTypes),this.showToggle=this.schema.description||this.schema.title||this.isPrimitive&&(this.schema.minimum||this.schema.maximum||this.schema.exclusiveMinimum||this.schema.exclusiveMaximum||this.schema.format||this.schema["default"]||this.schema.minLength||this.schema.maxLength||this.schema["enum"]),this.schema&&Array.isArray(this.schema.required)&&this.schema.required.forEach(function(s){"object"==typeof a.schema.properties[s]&&(a.schema.properties[s].isRequired=!0)}),void(this.isCollectionOfTypes&&(this.typeList=this.schema.type.reduce(function(s,n){return s.type+", "+n.type})))):""}return t(s,[{key:"template",value:function(){return this.schema?("\n      <!-- Any -->\n      "+(0,E._if)(this.isAny)(h,(0,E._if)(this.showToggle)(l,this.schema.title||""),(0,E._if)(this.schema.description&&!this.isCollapsed)(c,this.schema.description))+"\n\n      <!-- Primitive -->\n      "+(0,E._if)(this.isPrimitive)(r,(0,E._if)(this.showToggle)(l,this.schema.title||""),this.schema.type,(0,E._if)(this.schema.isRequired)(p),(0,E._if)(!this.isCollapsed&&this.schema.format)(m,this.schema.format),(0,E._if)(!this.isCollapsed&&this.schema["default"])(o,this.schema["default"]),(0,E._if)(!this.isCollapsed&&this.schema.minimum)(d,this.schema.minimum),(0,E._if)(!this.isCollapsed&&this.schema.exclusiveMinimum)(f,this.schema.exclusiveMinimum),(0,E._if)(!this.isCollapsed&&this.schema.maximum)(u,this.schema.maximum),(0,E._if)(!this.isCollapsed&&this.schema.exclusiveMaximum)(v,this.schema.exclusiveMaximum),(0,E._if)(!this.isCollapsed&&this.schema.minLength)(y,this.schema.minLength),(0,E._if)(!this.isCollapsed&&this.schema.maxLength)(g,this.schema.maxLength),(0,E._if)(this.schema.description&&!this.isCollapsed)(c,this.schema.description),(0,E._if)(!this.isCollapsed&&this.schema["enum"])(O,this["enum"](this.schema,this.isCollapsed,this.open)),(0,E._if)(this.schema.allOf&&!this.isCollapsed)(C,this.xOf(this.schema,"allOf")),(0,E._if)(this.schema.oneOf&&!this.isCollapsed)(C,this.xOf(this.schema,"oneOf")),(0,E._if)(this.schema.anyOf&&!this.isCollapsed)(C,this.xOf(this.schema,"anyOf")))+"\n\n\n      <!-- Array -->\n      "+(0,E._if)(this.isArray)(x,this.schema.title||"",(0,E._if)(this.isCollapsed)(_),(0,E._if)(!this.isCollapsed&&(this.schema.uniqueItems||this.schema.minItems||this.schema.maxItems))(b,this.schema.minItems||0,this.schema.maxItems||"∞",(0,E._if)(!this.isCollapsed&&this.schema.uniqueItems)(L)),(0,E._if)(!this.isCollapsed&&this.schema.description)(j,this.schema.description),(0,E._if)(!this.isCollapsed&&this.schema["enum"])(O,this["enum"](this.schema,this.isCollapsed,this.open)),(0,E._if)(this.schema.allOf&&!this.isCollapsed)(C,this.xOf(this.schema,"allOf")),(0,E._if)(this.schema.oneOf&&!this.isCollapsed)(C,this.xOf(this.schema,"oneOf")),(0,E._if)(this.schema.anyOf&&!this.isCollapsed)(C,this.xOf(this.schema,"anyOf")),(0,E._if)(!this.isCollapsed)(q))+"\n\n      <!-- Object -->\n      "+(0,E._if)(!(this.isPrimitive||this.isArray||this.isAny||this.isCollectionOfTypes))(w,this.schema.title||"",(0,E._if)(this.isCollapsed)(A),(0,E._if)(!this.isCollapsed&&this.schema.description)(j,this.schema.description),(0,E._if)(!this.isCollapsed&&this.schema["enum"])(O,this["enum"](this.schema,this.isCollapsed,this.open)),(0,E._if)(this.schema.allOf&&!this.isCollapsed)(C,this.xOf(this.schema,"allOf")),(0,E._if)(this.schema.oneOf&&!this.isCollapsed)(C,this.xOf(this.schema,"oneOf")),(0,E._if)(this.schema.anyOf&&!this.isCollapsed)(C,this.xOf(this.schema,"anyOf")),(0,E._if)(!this.isCollapsed)(k))+"\n\n      <!-- Type Array -->\n      "+(0,E._if)(this.isCollectionOfTypes)(T,this.schema.title||"",this.typeList,(0,E._if)(this.schema.description&&!this.isCollapsed)(j,this.schema.description))+"\n").replace(/\s*\n/g,"\n").replace(/(\<\!\-\-).+/g,"").trim():""}},{key:"xOf",value:function(s,n){return'\n      <div class="inner '+n+'">\n        <b>'+(0,E.convertXOf)(n)+":</b>\n      </div>\n    "}},{key:"enum",value:function(s,n,e){return"\n      "+(0,E._if)(!n&&s["enum"])(M)+"\n    "}},{key:"toggle",value:function(){this.isCollapsed=!this.isCollapsed,this.render()}},{key:"render",value:function(){return this.element||(this.element=document.createElement("div"),this.element.classList.add("json-schema-view")),this.isCollapsed?this.element.classList.add("collapsed"):this.element.classList.remove("collapsed"),this.options.theme&&this.element.classList.add("json-schema-view-"+this.options.theme),this.element.innerHTML=this.template(),this.schema?(this.isCollapsed||this.appendChildren(this.element),this.element.querySelector("a.title")&&this.element.querySelector("a.title").addEventListener("click",this.toggle.bind(this)),this.element):this.element}},{key:"appendChildren",value:function(n){function e(e){var i=this,a=n.querySelector(".inner."+e);this.schema[e].forEach(function(n){var e=document.createElement("div");e.classList.add("inner");var t=new s(n,i.open-1);e.appendChild(t.render()),a.appendChild(e)})}var i=this,a=n.querySelector(".inner");if(a){if(this.schema["enum"]){var t=new JSONFormatter(this.schema["enum"],this.open-1),h=t.render();h.classList.add("inner"),n.querySelector(".enums.inner").appendChild(h)}if(this.isArray){var l=new s(this.schema.items,this.open-1);a.appendChild(l.render())}this.isCollectionOfTypes&&!function(){var n=i.open-1;i.schema.type.forEach(function(e){var i=new s(e,n);a.appendChild(i.render())})}(),"object"==typeof this.schema.properties&&Object.keys(this.schema.properties).forEach(function(n){var e=i.schema.properties[n],t=document.createElement("div");t.innerHTML='<div class="property">\n          <span class="name">'+n+":</span>\n        </div>";var h=new s(e,i.open-1);t.querySelector(".property").appendChild(h.render()),a.appendChild(t.querySelector(".property"))}),this.schema.allOf&&e.call(this,"allOf"),this.schema.oneOf&&e.call(this,"oneOf"),this.schema.anyOf&&e.call(this,"anyOf")}}}]),s}();e["default"]=S,n.exports=e["default"]},{"./helpers.js":1}]},{},[2])(2)});